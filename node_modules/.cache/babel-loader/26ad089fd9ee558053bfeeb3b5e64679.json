{"ast":null,"code":"import _objectWithoutProperties from \"/Users/marcosricardo/Documents/studies/huntweb/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/marcosricardo/Documents/studies/huntweb/src/pages/main/index.js\";\nimport React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport api from \"../../services/api\";\nimport \"./styles.css\";\nexport default class Main extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [],\n      productInfo: {},\n      page: 1\n    };\n\n    this.loadProducts = async (page = 1) => {\n      const response = await api.get(\"/products?page=\".concat(page));\n\n      const _response$data = response.data,\n            docs = _response$data.docs,\n            productInfo = _objectWithoutProperties(_response$data, [\"docs\"]);\n\n      this.setState({\n        products: docs,\n        productInfo,\n        page\n      });\n    };\n\n    this.nextPage = () => {\n      const _this$state = this.state,\n            page = _this$state.page,\n            productInfo = _this$state.productInfo;\n      if (page === productInfo.pages) return;\n      const pageNumber = page + 1;\n      this.loadProducts(pageNumber);\n    };\n\n    this.prevPage = () => {\n      const page = this.state.page;\n      if (page === 1) return;\n      const pageNumber = page - 1;\n      this.loadProducts(pageNumber);\n    };\n  }\n\n  componentDidMount() {\n    this.loadProducts();\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          products = _this$state2.products,\n          page = _this$state2.page,\n          productInfo = _this$state2.productInfo;\n    return React.createElement(\"div\", {\n      className: \"product-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, products.map(product => React.createElement(\"article\", {\n      key: product._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, product.title), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, product.description), React.createElement(Link, {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Acessar\"))), React.createElement(\"div\", {\n      className: \"actions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      disabled: page === 1,\n      onClick: this.prevPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Anterior\"), React.createElement(\"button\", {\n      disabled: productInfo.pages === page,\n      onClick: this.nextPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Pr\\xF3xima\")));\n  }\n\n}","map":{"version":3,"sources":["/Users/marcosricardo/Documents/studies/huntweb/src/pages/main/index.js"],"names":["React","Component","Link","api","Main","state","products","productInfo","page","loadProducts","response","get","data","docs","setState","nextPage","pages","pageNumber","prevPage","componentDidMount","render","map","product","_id","title","description"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,OAAO,cAAP;AAEA,eAAe,MAAMC,IAAN,SAAmBH,SAAnB,CAA4B;AAAA;AAAA;AAAA,SACzCI,KADyC,GACjC;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,WAAW,EAAE,EAFP;AAGNC,MAAAA,IAAI,EAAE;AAHA,KADiC;;AAAA,SAWzCC,YAXyC,GAW1B,OAAOD,IAAI,GAAG,CAAd,KAAoB;AACjC,YAAME,QAAQ,GAAI,MAAMP,GAAG,CAACQ,GAAJ,0BAA0BH,IAA1B,EAAxB;;AADiC,6BAGAE,QAAQ,CAACE,IAHT;AAAA,YAGzBC,IAHyB,kBAGzBA,IAHyB;AAAA,YAGhBN,WAHgB;;AAKjC,WAAKO,QAAL,CAAc;AAAER,QAAAA,QAAQ,EAAGO,IAAb;AAAmBN,QAAAA,WAAnB;AAAgCC,QAAAA;AAAhC,OAAd;AACD,KAjBwC;;AAAA,SAmBzCO,QAnByC,GAmB9B,MAAM;AAAA,0BACc,KAAKV,KADnB;AAAA,YACRG,IADQ,eACRA,IADQ;AAAA,YACFD,WADE,eACFA,WADE;AAGf,UAAGC,IAAI,KAAKD,WAAW,CAACS,KAAxB,EAA+B;AAE/B,YAAMC,UAAU,GAAGT,IAAI,GAAG,CAA1B;AAEA,WAAKC,YAAL,CAAkBQ,UAAlB;AACD,KA3BwC;;AAAA,SA8BzCC,QA9ByC,GA8B9B,MAAM;AAAA,YACRV,IADQ,GACA,KAAKH,KADL,CACRG,IADQ;AAGf,UAAGA,IAAI,KAAK,CAAZ,EAAe;AAEf,YAAMS,UAAU,GAAGT,IAAI,GAAG,CAA1B;AAEA,WAAKC,YAAL,CAAkBQ,UAAlB;AACD,KAtCwC;AAAA;;AAOzCE,EAAAA,iBAAiB,GAAE;AACjB,SAAKV,YAAL;AACD;;AA+BDW,EAAAA,MAAM,GAAE;AAAA,yBACkC,KAAKf,KADvC;AAAA,UACEC,QADF,gBACEA,QADF;AAAA,UACYE,IADZ,gBACYA,IADZ;AAAA,UACkBD,WADlB,gBACkBA,WADlB;AAGN,WACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEID,QAAQ,CAACe,GAAT,CAAaC,OAAO,IAClB;AAAS,MAAA,GAAG,EAAEA,OAAO,CAACC,GAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAASD,OAAO,CAACE,KAAjB,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIF,OAAO,CAACG,WAAZ,CAFF,EAGE,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHF,CADF,CAFJ,EAUE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,QAAQ,EAAEjB,IAAI,KAAM,CAA5B;AAAgC,MAAA,OAAO,EAAE,KAAKU,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AAAQ,MAAA,QAAQ,EAAEX,WAAW,CAACS,KAAZ,KAAuBR,IAAzC;AAA+C,MAAA,OAAO,EAAE,KAAKO,QAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,CAVF,CADJ;AAkBD;;AA7DwC","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport api from \"../../services/api\";\nimport \"./styles.css\";\n\nexport default class Main extends Component{\n  state = {\n    products: [],\n    productInfo: {},\n    page: 1\n  }\n\n  componentDidMount(){\n    this.loadProducts();\n  }\n\n  loadProducts = async (page = 1) => {\n    const response  = await api.get(`/products?page=${page}`);\n    \n    const { docs, ...productInfo } = response.data;\n   \n    this.setState({ products : docs, productInfo, page });\n  }\n\n  nextPage = () => {\n    const {page, productInfo } = this.state;\n   \n    if(page === productInfo.pages) return;\n    \n    const pageNumber = page + 1;\n    \n    this.loadProducts(pageNumber);\n  }\n\n\n  prevPage = () => {\n    const {page} = this.state;\n   \n    if(page === 1) return;\n    \n    const pageNumber = page - 1;\n    \n    this.loadProducts(pageNumber);\n  }\n\n  render(){\n    const { products, page, productInfo } = this.state;\n\n    return  (\n        <div className=\"product-list\">\n          {\n            products.map(product => (\n              <article key={product._id}>\n                <strong>{product.title}</strong>\n                <p>{product.description}</p>\n                <Link href=\"#\">Acessar</Link>\n              </article>\n            ))\n          }\n          <div className=\"actions\">\n            <button disabled={page ===  1}  onClick={this.prevPage}>Anterior</button>\n            <button disabled={productInfo.pages ===  page} onClick={this.nextPage}>Pr√≥xima</button>\n          </div>\n        </div>\n      )\n    ;\n  }\n}"]},"metadata":{},"sourceType":"module"}